{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/all-sessions/all-sessions.component.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/processed-sessions/processed-sessions.component.ts","webpack:///src/app/session-details/session-details.component.ts","webpack:///src/app/small-sessions/small-sessions.component.ts","webpack:///src/app/viewer/viewer.component.ts","webpack:///src/main.ts","webpack:///src/polyfills.ts","webpack:///src/app/all-sessions/all-sessions.component.css","webpack:///src/app/app.component.css","webpack:///src/app/processed-sessions/processed-sessions.component.css","webpack:///src/app/session-details/session-details.component.css","webpack:///src/app/small-sessions/small-sessions.component.css","webpack:///src/app/viewer/viewer.component.css","webpack:///src/app/all-sessions/all-sessions.component.html","webpack:///src/app/app.component.html","webpack:///src/app/processed-sessions/processed-sessions.component.html","webpack:///src/app/session-details/session-details.component.html","webpack:///src/app/small-sessions/small-sessions.component.html","webpack:///src/app/viewer/viewer.component.html"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","AllSessionsComponent","http","showSpinner","get","subscribe","Response","sessions","forEach","session","startDate","Date","startTime","toLocaleString","endDate","endTime","HttpClient","Component","selector","template","AppComponent","title","routes","path","component","SmallSessionsComponent","ProcessedSessionsComponent","ViewerComponent","AppModule","NgModule","imports","BrowserModule","FormsModule","MatSlideToggleModule","HttpClientModule","NgbModule","RouterModule","useHash","BrowserAnimationsModule","declarations","SessionDetailsComponent","bootstrap","providers","provide","APP_BASE_HREF","useValue","duration","frames","loadJsFile","url","node","document","createElement","src","type","getElementById","console","log","limit","THREE","_Activatedroute","timestamp","frameTimestamp","paused","smoothing","statusMsg","data","frameConfig","x","y","z","bedW","bedD","bedH","camY","camRX","minP","mode","framePointsCount","maxMovement","actores","camaPoints","dispensadores","floor","snapshot","paramMap","sessionDate","totalFrames","length","sessionDuration","buildViewer","comp","camera","scene","renderer","actor","sessao","cameraControls","clock","stats","gui","currentPoints","play","fps","factor","currentFrame","maxFrames","frame","detectedFloor","init","animate","antialias","setSize","offsetWidth","appendChild","domElement","background","add","up","set","setLookAt","name","cama","camaWidth","camaHeight","camaDepth","camaGeo","camaMaterial","color","camaMesh","camaPoint","fixAxis","position","dispensador1","dispensadorMat","dispensador1Geo","dispensador2Geo","dispensador1mesh","fixedDispensadorPoint","floorLineineMaterial","floorPoints","i","fixedFloorPoint","push","floorGeometry","setFromPoints","baseFloor","newFrame2","dirLight1","dirLight2","ambientLight","window","removeEventListener","onWindowResize","addEventListener","point","tempX","scale","tempY","tempZ","p","updateProjectionMatrix","requestId","requestAnimationFrame","cancelAnimationFrame","delta","getDelta","hasControlsUpdated","update","render","rotation","Math","PI","getObjectByName","clear","remove","startIndex","lineMaterial","vertexColors","linewidth","pointMaterial","size","pointColors","points","fixedPoint","headGeometry","setAttribute","head","bodyPointsIndex","linePoints","lineGeometries","lineColors","lines","currentPoint","j","newPoint","motionLimiter","computeLineDistances","toString","setTimeout","number","inMin","inMax","outMin","outMax","current","ActivatedRoute","platformBrowserDynamic","bootstrapModule","ref","destroy","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-all-sessions',\n  templateUrl: './all-sessions.component.html',\n  styleUrls: ['./all-sessions.component.css']\n})\nexport class AllSessionsComponent implements OnInit {\n  \n  public sessions: any;\n  public showSpinner = true;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.http\n      .get('https://ysmartdata.whymob.dev/get/sessions')\n      .subscribe(Response => {\n        // If response comes\n        this.sessions = Response;\n        this.sessions.forEach(session => {\n          session.startDate = new Date(session.startTime * 1000).toLocaleString(\n            'pt-PT'\n          );\n          session.endDate = new Date(session.endTime * 1000).toLocaleString(\n            'pt-PT'\n          );\n        });\n        this.showSpinner = false;\n      });\n  }\n}\n","import { Component, VERSION } from '@angular/core';\n\n@Component({\n  selector: '.app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = '3D ySmart Dashboard'; //VERSION.major\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\nimport { APP_BASE_HREF } from '@angular/common';\n\nimport { AppComponent } from './app.component';\n\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { SmallSessionsComponent } from './small-sessions/small-sessions.component';\nimport { ViewerComponent } from './viewer/viewer.component';\nimport { AllSessionsComponent } from './all-sessions/all-sessions.component';\nimport { SessionDetailsComponent } from './session-details/session-details.component';\nimport { ProcessedSessionsComponent } from './processed-sessions/processed-sessions.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nconst routes: Routes = [\n  { path: '', component: AllSessionsComponent },\n  { path: 'small', component: SmallSessionsComponent },\n  { path: 'processed', component: ProcessedSessionsComponent },\n  { path: 'view/:id', component: ViewerComponent }\n];\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    MatSlideToggleModule,\n    HttpClientModule,\n    NgbModule,\n    RouterModule.forRoot(routes, {useHash: true}),\n    BrowserAnimationsModule\n  ],\n  exports: [RouterModule],\n  declarations: [\n    AppComponent,\n    SmallSessionsComponent,\n    ViewerComponent,\n    AllSessionsComponent,\n    SessionDetailsComponent,\n    ProcessedSessionsComponent\n  ],\n  bootstrap: [AppComponent],\n  providers: [\n    {\n      provide: APP_BASE_HREF,\n      useValue: '/'// + (window.location.pathname.split('/')[1] || '')\n    }\n  ]\n})\nexport class AppModule {}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-processed-sessions',\n  templateUrl: './processed-sessions.component.html',\n  styleUrls: ['./processed-sessions.component.css']\n})\nexport class ProcessedSessionsComponent implements OnInit {\n  sessions: any;\n  constructor() {\n    this.sessions = [\n      {\n        session: 1625843694,\n        startTime: 1625843694,\n        endTime: 1625843710,\n        duration: '00:00:16',\n        frames: 263\n      },\n      {\n        session: 1625844273,\n        startTime: 1625844273,\n        endTime: 1625844455,\n        duration: '00:03:02',\n        frames: 4748\n      },\n      {\n        session: 1626265938,\n        startTime: 1626265938,\n        endTime: 1626265952,\n        duration: '00:00:14',\n        frames: 182\n      }\n    ];\n    this.sessions.forEach(session => {\n      session.startDate = new Date(session.startTime * 1000).toLocaleString(\n        'pt-PT'\n      );\n      session.endDate = new Date(session.endTime * 1000).toLocaleString(\n        'pt-PT'\n      );\n    });\n  }\n\n  ngOnInit() {\n    this.loadJsFile(\n      'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js',\n      'jquery'\n    );\n  }\n  public loadJsFile(url, id) {\n    let node = document.createElement('script');\n    node.src = url;\n    node.type = 'text/javascript';\n    node.id = id;\n    if (document.getElementById(id)) {\n      console.log('script already present');\n    } else {\n      //document.getElementsByTagName('head')[0].appendChild(node);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-session-details',\n  templateUrl: './session-details.component.html',\n  styleUrls: ['./session-details.component.css']\n})\nexport class SessionDetailsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-small-sessions',\n  templateUrl: './small-sessions.component.html',\n  styleUrls: ['./small-sessions.component.css']\n})\nexport class SmallSessionsComponent implements OnInit {\n  limit = 10;\n  sessions: any;\n  \n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.http\n      .get('https://ysmartdata.whymob.dev/get/small-sessions/'+this.limit)\n      .subscribe(Response => {\n        // If response comes\n        this.sessions = Response;\n        this.sessions.forEach(session => {\n          session.startDate = new Date(session.startTime * 1000).toLocaleString(\n            'pt-PT'\n          );\n          session.endDate = new Date(session.endTime * 1000).toLocaleString(\n            'pt-PT'\n          );\n        });\n      });\n  }\n}\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport {ThemePalette} from '@angular/material/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport * as THREE from 'three';\n\nimport CameraControls from 'camera-controls';\nCameraControls.install({ THREE: THREE });\n\n@Component({\n  selector: 'app-viewer',\n  templateUrl: './viewer.component.html',\n  styleUrls: ['./viewer.component.css']\n})\nexport class ViewerComponent implements OnInit {\n  public id: any;\n  public sessionDate: string;\n  public sessionDuration: any;\n  public totalFrames: number;\n  public showSpinner = true;\n  public timestamp = '0';\n  public frameTimestamp = '0';\n  public requestId: number;\n  public paused = false;\n  public smoothing = true;\n  public statusMsg = '';\n\n  private data = {\n    frameConfig: {\n      x: 640,\n      y: 480,\n      z: 5,\n      bedW: 100,\n      bedD: 200,\n      bedH: 20,\n      camY: -300,\n      camRX: -36,\n      minP: 0,\n      mode: '3d',\n      framePointsCount: 18,\n      maxMovement: 5\n    },\n    actores: [],\n    camaPoints: {\n      x: 0.10985056310892105,\n      y: -0.13395646214485168,\n      z: 3.380000114440918\n    },\n    dispensadores: [\n      { x: 0.2630771994590759, y: -0.019362561404705048, z: 3.4200000762939453 }\n    ],\n    floor: [\n      { x: -1.1797891855239868, y: 1.4506481885910034, z: 3.2119998931884766 },\n      { x: -1.1293202638626099, y: 0.6508018970489502, z: 4.093999862670898 },\n      { x: 1.1487586498260498, y: 0.4948367774486542, z: 4.421000003814697 },\n      { x: 1.1579986810684204, y: 1.4244699478149414, z: 3.247999906539917 },\n      { x: -1.1797891855239868, y: 1.4506481885910034, z: 3.2119998931884766 }\n    ]\n  };\n\n  constructor(\n    private _Activatedroute: ActivatedRoute,\n    private http: HttpClient\n  ) {\n    this.id = this._Activatedroute.snapshot.paramMap.get('id');\n    this.sessionDate = new Date(this.id * 1000).toLocaleString('pt-PT');\n    \n  }\n  ngOnInit() {\n    this.http\n    .get('https://ysmartdata.whymob.dev/get/actor-frames/' + this.id)\n    .subscribe((data: any) => {\n      this.totalFrames = data.actores[0].length / 18;\n      this.sessionDuration = data.duration;\n      this.data.actores = data.actores;\n      //this.data.camaPoints = data.camaPoints;\n      this.buildViewer();\n      this.showSpinner = false;\n    });\n  }\n\n  buildViewer() {\n    let comp = this;\n    let camera,\n      scene,\n      renderer,\n      actor,\n      sessao,\n      floor,\n      cameraControls,\n      clock,\n      stats,\n      gui;\n\n    let frameConfig, framePointsCount;\n    let currentPoints = [];\n    let play = true;\n    let paused = false;\n    let fps = 15;\n    let factor = 100;\n    let currentFrame = 0;\n    let maxFrames;\n    //Frames\n    var frame, camaPoints, dispensadores, detectedFloor;\n\n    frameConfig = this.data.frameConfig;\n    frame = this.data.actores[0];\n    framePointsCount = frameConfig.framePointsCount;\n    camaPoints = this.data.camaPoints;\n    dispensadores = this.data.dispensadores;\n    detectedFloor = this.data.floor;\n    maxFrames = this.data.actores[0].length / framePointsCount;\n    init();\n    animate();\n\n    function init() {\n      console.log('Positions using', frameConfig.mode);\n\n      // Set renderer\n      renderer = new THREE.WebGLRenderer({ antialias: true });\n      renderer.setSize(\n        document.getElementById('viewer').offsetWidth,\n        document.getElementById('viewer').offsetWidth / 2\n      );\n\n      document.getElementById('viewer').appendChild(renderer.domElement);\n\n      // Set scene\n      scene = new THREE.Scene();\n      scene.background = new THREE.Color(0xeeeeee);\n\n      // Set floor helper\n      floor = new THREE.GridHelper(frameConfig.x, 10);\n      scene.add(floor);\n\n      // Set Camera\n      camera = new THREE.PerspectiveCamera(70, 1.5, 1, 2000);\n      camera.up.set(0, 0.5, 0);\n      // Set Camera Controls\n      clock = new THREE.Clock();\n      cameraControls = new CameraControls(camera, renderer.domElement);\n      cameraControls.setLookAt(\n        0,\n        frameConfig.x / 4,\n        frameConfig.x / 2,\n        0,\n        0,\n        0,\n        true\n      );\n\n      sessao = new THREE.Group();\n      sessao.name = 'sessao';\n\n      //CAMA\n      const cama = new THREE.Group();\n      cama.name = 'cama';\n      let camaWidth = frameConfig.bedW,\n        camaHeight = frameConfig.bedH,\n        camaDepth = frameConfig.bedD;\n      const camaGeo = new THREE.BoxGeometry(camaWidth, camaHeight, camaDepth);\n      const camaMaterial = new THREE.MeshPhongMaterial({ color: 0x00ff00 });\n      const camaMesh = new THREE.Mesh(camaGeo, camaMaterial);\n      let camaPoint = fixAxis(camaPoints);\n      cama.position.set(camaPoint.x, camaPoint.y, camaPoint.z);\n      camaMesh.position.set(0, 0, camaDepth / 2);\n      cama.add(camaMesh);\n      sessao.add(cama);\n\n      //DISPENSADOR\n      const dispensador1 = new THREE.Group();\n      dispensador1.name = 'dispensador1';\n      const dispensadorMat = new THREE.MeshPhongMaterial({ color: 0xffff00 });\n\n      const dispensador1Geo = new THREE.BoxGeometry(25, 50, 25);\n      const dispensador2Geo = new THREE.BoxGeometry(25, 50, 25);\n\n      const dispensador1mesh = new THREE.Mesh(dispensador1Geo, dispensadorMat);\n      let fixedDispensadorPoint = fixAxis(dispensadores[0]);\n      dispensador1.position.set(\n        fixedDispensadorPoint.x,\n        fixedDispensadorPoint.y,\n        fixedDispensadorPoint.z\n      );\n      dispensador1.add(dispensador1mesh);\n      sessao.add(dispensador1);\n\n      //ADD Detected floor\n      //create a blue LineBasicMaterial\n      var floorLineineMaterial = new THREE.LineBasicMaterial({\n        color: '#00ff00'\n      });\n      const floorPoints = [];\n      for (let i = 0; i < detectedFloor.length; i++) {\n        let fixedFloorPoint = fixAxis(detectedFloor[i]);\n        floorPoints.push(\n          new THREE.Vector3(\n            fixedFloorPoint.x,\n            fixedFloorPoint.y,\n            fixedFloorPoint.z\n          )\n        );\n      }\n\n      const floorGeometry = new THREE.BufferGeometry().setFromPoints(\n        floorPoints\n      );\n      const baseFloor = new THREE.Line(floorGeometry, floorLineineMaterial);\n      //sessao.add(baseFloor);\n\n      //Create actor group for animation\n      actor = new THREE.Group();\n      actor.name = 'actor';\n      sessao.add(actor);\n      scene.add(sessao);\n      newFrame2();\n\n      //lights\n      const dirLight1 = new THREE.DirectionalLight(0xffffff);\n      dirLight1.position.set(1, 1, 1);\n      scene.add(dirLight1);\n\n      const dirLight2 = new THREE.DirectionalLight(0x002288);\n      dirLight2.position.set(-1, -1, -1);\n      scene.add(dirLight2);\n\n      const ambientLight = new THREE.AmbientLight(0x222222);\n      scene.add(ambientLight);\n\n      //\n      window.removeEventListener('resize', onWindowResize);\n      window.addEventListener('resize', onWindowResize);\n      //stats = new Stats();\n      //stats.domElement.style.position = 'absolute';\n      //document.getElementById('viewer').appendChild(stats.dom);\n\n      //initGui();\n    }\n\n    function fixAxis(point) {\n      if (frameConfig.mode == 'pixel') {\n        //Frame axis is top left, world is center bottom\n        //offset x half the frame withd to the left\n        let tempX = scale(\n          point[0],\n          0,\n          frameConfig.x,\n          (frameConfig.x / 2) * -1,\n          frameConfig.x / 2\n        ); //point[0] - (frameConfig.x /2);\n        let tempY = scale(point[1], 0, frameConfig.y, frameConfig.y, 0); //frameConfig.y-point[1]-frameConfig.camY;\n        let tempZ = scale(\n          point[2],\n          0,\n          frameConfig.z,\n          frameConfig.x / 2,\n          (frameConfig.x / 2) * -1\n        );\n\n        return { x: tempX, y: tempY, z: tempZ, p: point[3] };\n        //return {x: point[0], y:point[1], z:point[2]*200, p:point[3]}\n      } else {\n        let tempX = point.x * factor;\n        let tempY = point.y * factor * -1;\n        let tempZ = point.z * factor * -1;\n\n        return { x: tempX, y: tempY, z: tempZ, p: point.p };\n      }\n    }\n\n    function onWindowResize() {\n      if (document.getElementById('viewer')) {\n        //camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n\n        renderer.setSize(\n          document.getElementById('viewer').offsetWidth,\n          document.getElementById('viewer').offsetWidth / 2\n        );\n      }\n    }\n\n    function animate() {\n      if (document.getElementById('viewer')) {\n        comp.requestId = requestAnimationFrame(animate);\n      } else {\n        cancelAnimationFrame(comp.requestId);\n        console.log('No animate for you!', comp.requestId);\n      }\n      //stats.update();\n\n      const delta = clock.getDelta();\n      const hasControlsUpdated = cameraControls.update(delta);\n\n      // you can skip this condition to render though\n      if (hasControlsUpdated) {\n        renderer.render(scene, camera);\n      }\n      sessao.rotation.x = frameConfig.camRX * (Math.PI / 180);\n      sessao.getObjectByName('cama').rotation.x =\n        frameConfig.camRX * -1 * (Math.PI / 180);\n      sessao.getObjectByName('dispensador1').rotation.x =\n        frameConfig.camRX * -1 * (Math.PI / 180);\n\n      sessao.position.z = -frameConfig.camY / 2;\n      sessao.position.y = -frameConfig.camY;\n\n      render();\n    }\n\n    function render() {\n      //console.log(this.timestamp)\n      renderer.render(scene, camera);\n    }\n    function newFrame2() {\n      //var selectedObject = scene.getObjectByName('actor');\n      actor.clear();\n      sessao.remove(actor);\n      let startIndex =\n        (currentFrame % (frame.length / framePointsCount)) * framePointsCount;\n\n      //console.log('/////////////////')\n      //console.log('// FRAME',currentFrame%(frame.length/framePointsCount))\n\n      //rebuild actor\n      //create a blue LineBasicMaterial\n      const lineMaterial = new THREE.LineBasicMaterial({\n        vertexColors: (<any>THREE).VertexColors, // inform material that geometry will provide color info\n        linewidth: 40 // lineWidth not universally supported works with safari\n      });\n      const pointMaterial = new THREE.PointsMaterial({\n        size: 2,\n        vertexColors: (<any>THREE).VertexColors\n      });\n\n      let pointColors = [];\n      let points = [];\n\n      actor = new THREE.Group();\n      actor.name = 'actor';\n\n      for (let i = 0; i < 5; i++) {\n        let fixedPoint = fixAxis(frame[startIndex + i]);\n        pointColors.push(1 - 1 * frame[i][3], 1 * frame[i][3], 0);\n        points.push(fixedPoint.x, fixedPoint.y, fixedPoint.z);\n      }\n\n      const headGeometry = new THREE.BufferGeometry();\n      headGeometry.setAttribute(\n        'position',\n        new THREE.Float32BufferAttribute(points, 3)\n      );\n      headGeometry.setAttribute(\n        'color',\n        new THREE.Float32BufferAttribute(pointColors, 3)\n      );\n      let head = new THREE.Points(headGeometry, pointMaterial);\n\n      actor.add(head);\n\n      const bodyPointsIndex = [\n        [10, 8, 6, 12, 14, 16],\n        [11, 9, 7, 13, 15, 17],\n        [6, 7],\n        [12, 13]\n      ];\n      let linePoints = [];\n      let lineGeometries = [];\n      let lineColors = [];\n      let lines = [];\n      let currentPoint;\n      for (let i = 0; i < bodyPointsIndex.length; i++) {\n        linePoints[i] = [];\n        lineColors[i] = [];\n        lineGeometries[i] = new THREE.BufferGeometry().setFromPoints(\n          linePoints[i]\n        );\n        for (let j = 0; j < bodyPointsIndex[i].length; j++) {\n          //Skip point if it's above threshold\n          if (\n            frame[startIndex + (bodyPointsIndex[i][j] - 1)].p > frameConfig.minP\n          ) {\n            let fixedPoint = { x: 0, y: 0, z: 0, p: 0 };\n            let newPoint = { x: 0, y: 0, z: 0, p: 1 };\n            //if starting frame skip max velocity check\n            comp.statusMsg = comp.smoothing?'smoothing on':'smoothing off';\n            if (startIndex < framePointsCount || !comp.smoothing) {\n              fixedPoint = fixAxis(\n                frame[startIndex + (bodyPointsIndex[i][j] - 1)]\n              );\n              currentPoints[bodyPointsIndex[i][j] - 1] = fixedPoint;\n            } if(comp.paused){\n              comp.statusMsg = 'limiter drift disabled - ' + comp.statusMsg;\n              fixedPoint = currentPoints[bodyPointsIndex[i][j] - 1];\n            } else {\n              fixedPoint = fixAxis(\n                frame[startIndex + (bodyPointsIndex[i][j] - 1)]\n              );\n              currentPoint = currentPoints[bodyPointsIndex[i][j] - 1];\n              newPoint.x = motionLimiter(\n                fixedPoint.x,\n                currentPoint.x,\n                frameConfig.maxMovement\n              );\n              newPoint.y = motionLimiter(\n                fixedPoint.y,\n                currentPoint.y,\n                frameConfig.maxMovement\n              );\n              newPoint.z = motionLimiter(\n                fixedPoint.z,\n                currentPoint.z,\n                frameConfig.maxMovement\n              );\n              newPoint.p = fixedPoint.p;\n              fixedPoint = newPoint;\n              currentPoints[bodyPointsIndex[i][j] - 1] = fixedPoint;\n            }\n\n            linePoints[i].push(fixedPoint.x, fixedPoint.y, fixedPoint.z);\n            lineColors[i].push(1 - 1 * fixedPoint.p, 1 * fixedPoint.p, 0);\n          }\n        }\n        lineGeometries[i].setAttribute(\n          'position',\n          new THREE.Float32BufferAttribute(linePoints[i], 3)\n        );\n        lineGeometries[i].setAttribute(\n          'color',\n          new THREE.Float32BufferAttribute(lineColors[i], 3)\n        );\n        lines[i] = new THREE.Line(lineGeometries[i], lineMaterial);\n        lines[i].computeLineDistances();\n        actor.add(lines[i]);\n      }\n      sessao.add(actor);\n      //scene.add(sessao)\n      if (!comp.paused) {\n        currentFrame++;\n      } else {\n        comp.statusMsg = 'paused - ' + comp.statusMsg;\n      }\n      if (document.getElementById('viewer')) {\n        comp.timestamp = (\n          currentFrame %\n          (frame.length / framePointsCount)\n        ).toString();\n        setTimeout(newFrame2, 1000 / fps);\n      } else {\n        console.log('newframe stopped');\n      }\n      //console.log(actor)\n    }\n\n    function scale(number, inMin, inMax, outMin, outMax) {\n      return ((number - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\n    }\n    function motionLimiter(x, current, limit) {\n      //determine if x if in inside the left limit\n      if (x < current - limit) {\n        //console.log('from', current, 'to', x, 'limited to', current-limit)\n        return current - limit;\n      } else if (x >= current - limit && x <= current + limit) {\n        //console.log('from', current, 'to', x, 'no limit aplied', x)\n        return x;\n      } else if (x > current + limit) {\n        //console.log('from', current, 'to', x, 'limited to', current+limit)\n        return current + limit;\n      } else {\n        //console.log('limiter exception, keeping original value', current)\n        return current;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    console.log('stop', this.requestId);\n    cancelAnimationFrame(this.requestId);\n  }\n}\n","import './polyfills';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .then(ref => {\n    // Ensure Angular destroys itself on hot reloads.\n    if (window['ngRef']) {\n      window['ngRef'].destroy();\n    }\n    window['ngRef'] = ref;\n\n    // Otherwise, log the boot error\n  })\n  .catch(err => console.error(err));\n","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n// import 'core-js/es6/symbol';\n// import 'core-js/es6/object';\n// import 'core-js/es6/function';\n// import 'core-js/es6/parse-int';\n// import 'core-js/es6/parse-float';\n// import 'core-js/es6/number';\n// import 'core-js/es6/math';\n// import 'core-js/es6/string';\n// import 'core-js/es6/date';\n// import 'core-js/es6/array';\n// import 'core-js/es6/regexp';\n// import 'core-js/es6/map';\n// import 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\n// import 'core-js/es6/reflect';\n// import 'core-js/es7/reflect';\n\n\n/**\n * Web Animations `@angular/platform-browser/animations`\n * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.","export default \".isDisabled {\\r\\n  cursor: not-allowed;\\r\\n  opacity: 0.5;\\r\\n}\\r\\n.isDisabled > a {\\r\\n  color: currentColor;\\r\\n  display: inline-block; /* For IE11/ MS Edge bug */\\r\\n  pointer-events: none;\\r\\n  text-decoration: none;\\r\\n}\\r\\n.overlay {\\r\\n  position: absolute;\\r\\n  z-index: 1002;\\r\\n  background-color: rgba(255, 255, 255, 0.5);\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n.blurred {\\r\\n  filter: blur(2px);\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC1zZXNzaW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7QUFDZDtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLHFCQUFxQixFQUFFLDBCQUEwQjtFQUNqRCxvQkFBb0I7RUFDcEIscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLDBDQUEwQztFQUMxQyxXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSxpQkFBaUI7QUFDbkIiLCJmaWxlIjoiYWxsLXNlc3Npb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXNEaXNhYmxlZCB7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICBvcGFjaXR5OiAwLjU7XHJcbn1cclxuLmlzRGlzYWJsZWQgPiBhIHtcclxuICBjb2xvcjogY3VycmVudENvbG9yO1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLyogRm9yIElFMTEvIE1TIEVkZ2UgYnVnICovXHJcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbi5vdmVybGF5IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgei1pbmRleDogMTAwMjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbi5ibHVycmVkIHtcclxuICBmaWx0ZXI6IGJsdXIoMnB4KTtcclxufVxyXG4iXX0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9jZXNzZWQtc2Vzc2lvbnMuY29tcG9uZW50LmNzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXNzaW9uLWRldGFpbHMuY29tcG9uZW50LmNzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzbWFsbC1zZXNzaW9ucy5jb21wb25lbnQuY3NzIn0= */\";","export default \"#viewer {\\r\\n  position: relative;\\r\\n}\\r\\n#timestamp {\\r\\n  position: absolute;\\r\\n  width: 100%;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  color: #666;\\r\\n  text-align: right;\\r\\n  padding: 10px;\\r\\n}\\r\\n.overlay {\\r\\n  position: absolute;\\r\\n  z-index: 1002;\\r\\n  background-color: rgba(255, 255, 255, 0.5);\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n.blurred {\\r\\n  filter: blur(2px);\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXdlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLE1BQU07RUFDTixRQUFRO0VBQ1IsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixhQUFhO0FBQ2Y7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsMENBQTBDO0VBQzFDLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQiIsImZpbGUiOiJ2aWV3ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiN2aWV3ZXIge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG4jdGltZXN0YW1wIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgdG9wOiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuLm92ZXJsYXkge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB6LWluZGV4OiAxMDAyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLmJsdXJyZWQge1xyXG4gIGZpbHRlcjogYmx1cigycHgpO1xyXG59Il19 */\";","export default \"<h4 class=\\\"text-center\\\">Todas Sessões gravadas</h4>\\n<div class=\\\"position-relative\\\">\\n  <table class=\\\"table table-striped\\\" [class.blurred]=\\\"showSpinner\\\">\\n    <thead>\\n      <tr>\\n        <th scope=\\\"col\\\">Sessão ID</th>\\n        <th scope=\\\"col\\\">Início</th>\\n        <th scope=\\\"col\\\">Fim</th>\\n        <th scope=\\\"col\\\">Frames</th>\\n        <th scope=\\\"col\\\">Grupo</th>\\n        <th scope=\\\"col\\\">link</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr *ngFor=\\\"let session of sessions\\\">\\n        <th scope=\\\"row\\\">{{session.session}}</th>\\n        <td>{{session.startDate}}</td>\\n        <td>{{session.endDate}}</td>\\n        <td>{{session.frames}}</td>\\n        <td>{{session.totalFrames == session.frames ? 'Não':'Sim'}}</td>\\n        <td class=\\\"\\\">\\n          <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div class=\\\"overlay position-absolute top-0 end-0\\\" *ngIf=\\\"showSpinner\\\">\\n    <div class=\\\"spinner-wrapper pt-5\\\">\\n      <img class=\\\"m-auto d-block mt-5\\\" style='width:60px' src=\\\"https://whymob.dev/ysmart/loading.gif\\\">\\n    </div>\\n  </div>\\n</div>\";","export default \"<h1 class=\\\"text-center\\\">{{title}}</h1>\\n<hr />\\n<nav class=\\\"text-center\\\">\\n  <a routerLink=\\\"/\\\">Todas as sessões</a>\\n  &nbsp;\\n  <a routerLink=\\\"/small\\\">Sessões de curta duração</a>\\n  &nbsp;\\n  <a routerLink=\\\"/processed\\\">Sessões processadas</a>\\n</nav>\\n<hr />\\n<router-outlet></router-outlet>\\n<footer class=\\\"fixed-bottom p-2 text-end text-muted\\\" style=\\\"background-color: rgba(255, 255, 255, 0.6);\\\">powered by whymob</footer>\";","export default \"<h4 class=\\\"text-center\\\">Todas Sessões gravadas</h4>\\n<table class=\\\"table table-striped\\\">\\n  <thead>\\n    <tr>\\n      <th scope=\\\"col\\\">Sessão ID</th>\\n      <th scope=\\\"col\\\">Início</th>\\n      <th scope=\\\"col\\\">Fim</th>\\n      <th scope=\\\"col\\\">link</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let session of sessions\\\">\\n      <th scope=\\\"row\\\">{{session.session}}</th>\\n      <td>{{session.startDate}}</td>\\n      <td>{{session.endDate}}</td>\\n      <td>\\n        <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\";","export default \"<p>\\nsession-details works!\\n</p>\";","export default \"<h4 class=\\\"text-center\\\">Sessões gravadas com duração inferior a: {{limit}}s</h4>\\n<table class=\\\"table table-striped\\\">\\n  <thead>\\n    <tr>\\n      <th scope=\\\"col\\\">Sessão ID</th>\\n      <th scope=\\\"col\\\">Duração</th>\\n      <th scope=\\\"col\\\">Frames</th>\\n      <th scope=\\\"col\\\">Grupo</th>\\n      <th scope=\\\"col\\\">link</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let session of sessions\\\">\\n      <th scope=\\\"row\\\">{{session.session}}</th>\\n      <td>{{session.duration}}</td>\\n      <td>{{session.frames}}</td>\\n      <td>{{session.totalFrames == session.frames ? 'Não':'Sim'}}</td>\\n      <td class=\\\"\\\">\\n        <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\";","export default \"<h3 class=\\\"text-center fw-bold text-uppercase\\\">\\n  Sessão {{id}}\\n</h3>\\n<div class=\\\"position-relative\\\">\\n  <div class=\\\"viewer-wrapper\\\" [class.blurred]=\\\"showSpinner\\\">\\n    <div id=\\\"viewer\\\" class=\\\"position-relative\\\">\\n      <span class=\\\"d-block end-0 pe-3 position-absolute pt-2 text-end top-0\\\">{{frameTimestamp}}</span>\\n      <span class=\\\"d-block start-0 ps-3 position-absolute pt-2 text-start top-0\\\">{{timestamp}}</span>\\n      <span class=\\\"bottom-0 d-block end-0 pb-2 pe-3 position-absolute text-end\\\">{{statusMsg}}</span>\\n    </div>\\n    <div class=\\\"row\\\" *ngIf=\\\"!showSpinner\\\">\\n      <div class=\\\"col-md-4 col-sm-6 pt-4\\\">\\n          <h4>Dados da sessão</h4> \\n          <div>Sessão gravada em:</div>\\n          <div class=\\\"fw-bolder\\\">{{sessionDate}} </div>\\n          <div>com uma duração de:</div>\\n          <div><span class=\\\"fw-bolder\\\">{{sessionDuration}}</span> e <span class=\\\"fw-bolder\\\">{{totalFrames}}</span> frames.</div>\\n          <div>(Animation frame ID:<span class=\\\"fw-bolder\\\">{{requestId}}</span>)</div>\\n      </div>\\n      <div class=\\\"col-md-4 col-sm-6 pt-4\\\">\\n          <h5>Dados de oportunidades</h5> \\n          <p>Informação a adiccionar.</p> \\n      </div>\\n      <div class=\\\"col-md-4 col-sm-12 pt-4\\\">\\n          <h5>Visualizador</h5>\\n          <div class=\\\"form-check form-switch\\\">\\n              <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" id=\\\"flexSwitchCheckDefault\\\" [(ngModel)]=\\\"smoothing\\\"\\n              [ngModelOptions]=\\\"{standalone: true}\\\">\\n              <label class=\\\"form-check-label\\\" for=\\\"flexSwitchCheckDefault\\\">Suavizador de pontos (corpo)</label>\\n          </div>                             \\n          <div class=\\\"mt-2\\\">\\n              <div class=\\\"btn-group me-2\\\" role=\\\"group\\\" aria-label=\\\"First group\\\">\\n                  <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\">\\n                      <i class=\\\"bi bi-skip-backward-fill\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"paused = !paused\\\">\\n                      <i class=\\\"bi bi-play-fill\\\" *ngIf=\\\"paused\\\"></i>\\n                      <i class=\\\"bi bi-pause-fill\\\" *ngIf=\\\"!paused\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\">\\n                      <i class=\\\"bi bi-skip-forward-fill\\\"></i>\\n                  </button>\\n              </div>\\n          </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"position-absolute top-0 bottom-0 start-0 end-0\\\" *ngIf=\\\"showSpinner\\\">\\n    <div class=\\\"spinner-wrapper pt-5\\\">\\n      <img class=\\\"m-auto d-block mt-5\\\" style=\\\"width:60px\\\" src=\\\"https://whymob.dev/ysmart/loading.gif\\\">\\n      <span class=\\\"m-auto d-block mt-2 w-50 text-center text-secondary\\\">Loading</span>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\";"]}