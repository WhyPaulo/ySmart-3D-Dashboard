{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/all-sessions/all-sessions.component.ts","webpack:///src/app/all-sessions/sessions.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/hello.component.ts","webpack:///src/app/processed-sessions/processed-sessions.component.ts","webpack:///src/app/session-details/session-details.component.ts","webpack:///src/app/small-sessions/get-small-sessions.service.ts","webpack:///src/app/small-sessions/small-sessions.component.ts","webpack:///src/app/viewer/session.service.ts","webpack:///src/app/viewer/viewer.component.ts","webpack:///src/main.ts","webpack:///src/polyfills.ts","webpack:///src/app/hello.component.ts?befb","webpack:///src/app/all-sessions/all-sessions.component.css","webpack:///src/app/app.component.css","webpack:///src/app/processed-sessions/processed-sessions.component.css","webpack:///src/app/session-details/session-details.component.css","webpack:///src/app/small-sessions/small-sessions.component.css","webpack:///src/app/viewer/viewer.component.css","webpack:///src/app/all-sessions/all-sessions.component.html","webpack:///src/app/app.component.html","webpack:///src/app/processed-sessions/processed-sessions.component.html","webpack:///src/app/session-details/session-details.component.html","webpack:///src/app/small-sessions/small-sessions.component.html","webpack:///src/app/viewer/viewer.component.html"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","AllSessionsComponent","sess","getData","subscribe","data","sessions","forEach","session","startDate","Date","startTime","toLocaleString","endDate","endTime","SessionsService","Component","selector","template","http","get","HttpClient","Injectable","AppComponent","title","routes","path","component","SmallSessionsComponent","ProcessedSessionsComponent","ViewerComponent","AppModule","NgModule","imports","BrowserModule","FormsModule","HttpClientModule","NgbModule","RouterModule","declarations","HelloComponent","SessionDetailsComponent","bootstrap","providers","GetSmallSessionsService","SessionService","provide","APP_BASE_HREF","useValue","window","location","pathname","split","Input","duration","frames","loadJsFile","url","node","document","createElement","src","type","getElementById","console","log","limit","THREE","_Activatedroute","dataLoaded","timestamp","frameConfig","x","y","z","bedW","bedD","bedH","camY","camRX","minP","mode","framePointsCount","maxMovement","actores","camaPoints","dispensadores","floor","snapshot","paramMap","sessionDate","totalFrames","length","sessionDuration","buildViewer","comp","camera","scene","renderer","actor","sessao","cameraControls","clock","stats","gui","currentPoints","play","paused","fps","factor","currentFrame","maxFrames","frame","detectedFloor","init","animate","antialias","setSize","offsetWidth","appendChild","domElement","background","add","up","set","setLookAt","name","cama","camaWidth","camaHeight","camaDepth","camaGeo","camaMaterial","color","camaMesh","camaPoint","fixAxis","position","dispensadorMat","dispensador1Geo","dispensador2Geo","dispensador1","fixedDispensadorPoint","dispensador2","floorLineineMaterial","floorPoints","i","fixedFloorPoint","push","floorGeometry","setFromPoints","baseFloor","newFrame2","dirLight1","dirLight2","ambientLight","removeEventListener","onWindowResize","addEventListener","point","tempX","scale","tempY","tempZ","p","updateProjectionMatrix","requestId","requestAnimationFrame","cancelAnimationFrame","delta","getDelta","hasControlsUpdated","update","render","rotation","Math","PI","getObjectByName","clear","remove","startIndex","lineMaterial","vertexColors","linewidth","pointMaterial","size","pointColors","points","fixedPoint","headGeometry","setAttribute","head","bodyPointsIndex","linePoints","lineGeometries","lineColors","lines","currentPoint","j","newPoint","motionLimiter","computeLineDistances","innerText","toString","setTimeout","number","inMin","inMax","outMin","outMax","current","ActivatedRoute","platformBrowserDynamic","bootstrapModule","ref","destroy","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { SessionsService } from './sessions.service';\n\n@Component({\n  selector: 'app-all-sessions',\n  templateUrl: './all-sessions.component.html',\n  styleUrls: ['./all-sessions.component.css']\n})\nexport class AllSessionsComponent implements OnInit {\n  ngOnInit() {}\n\n  sessions: any;\n  constructor(private sess: SessionsService) {\n    sess.getData().subscribe((data: any) => {\n      this.sessions = data;\n      this.sessions.forEach(session => {\n        session.startDate = new Date(session.startTime * 1000).toLocaleString(\n          'pt-PT'\n        );\n        session.endDate = new Date(session.endTime * 1000).toLocaleString(\n          'pt-PT'\n        );\n      });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class SessionsService {\n  constructor(private http: HttpClient) {}\n  getData() {\n    return this.http.get('https://ysmartdata.whymob.dev/get/sessions');\n  }\n}\n","import { Component, VERSION } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = '3D ySmart Dashboard'; //VERSION.major\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\nimport { APP_BASE_HREF } from '@angular/common';\n\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\n\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { GetSmallSessionsService } from './small-sessions/get-small-sessions.service';\nimport { SmallSessionsComponent } from './small-sessions/small-sessions.component';\nimport { ViewerComponent } from './viewer/viewer.component';\nimport { AllSessionsComponent } from './all-sessions/all-sessions.component';\nimport { SessionsService } from './all-sessions/sessions.service';\nimport { SessionDetailsComponent } from './session-details/session-details.component';\nimport { SessionService } from './viewer/session.service';\nimport { ProcessedSessionsComponent } from './processed-sessions/processed-sessions.component';\n\nconst routes: Routes = [\n  { path: '', component: AllSessionsComponent },\n  { path: 'small', component: SmallSessionsComponent },\n  { path: 'processed', component: ProcessedSessionsComponent },\n  { path: 'view/:id', component: ViewerComponent }\n];\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpClientModule,\n    NgbModule,\n    RouterModule.forRoot(routes)\n  ],\n  exports: [RouterModule],\n  declarations: [\n    AppComponent,\n    HelloComponent,\n    SmallSessionsComponent,\n    ViewerComponent,\n    AllSessionsComponent,\n    SessionDetailsComponent,\n    ProcessedSessionsComponent\n  ],\n  bootstrap: [AppComponent],\n  providers: [\n    GetSmallSessionsService,\n    SessionsService,\n    SessionService,\n    {\n      provide: APP_BASE_HREF,\n      useValue: '/' + (window.location.pathname.split('/')[1] || '')\n    }\n  ]\n})\nexport class AppModule {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `<h1>Hello {{name}}!</h1>`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent  {\n  @Input() name: string;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-processed-sessions',\n  templateUrl: './processed-sessions.component.html',\n  styleUrls: ['./processed-sessions.component.css']\n})\nexport class ProcessedSessionsComponent implements OnInit {\n  sessions: any;\n  constructor() {\n    this.sessions = [\n      {\n        session: 1625843694,\n        startTime: 1625843694,\n        endTime: 1625843710,\n        duration: '00:00:16',\n        frames: 263\n      },\n      {\n        session: 1625844273,\n        startTime: 1625844273,\n        endTime: 1625844455,\n        duration: '00:03:02',\n        frames: 4748\n      },\n      {\n        session: 1626265938,\n        startTime: 1626265938,\n        endTime: 1626265952,\n        duration: '00:00:14',\n        frames: 182\n      }\n    ];\n    this.sessions.forEach(session => {\n      session.startDate = new Date(session.startTime * 1000).toLocaleString(\n        'pt-PT'\n      );\n      session.endDate = new Date(session.endTime * 1000).toLocaleString(\n        'pt-PT'\n      );\n    });\n  }\n\n  ngOnInit() {\n    this.loadJsFile(\n      'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js',\n      'jquery'\n    );\n  }\n  public loadJsFile(url, id) {\n    let node = document.createElement('script');\n    node.src = url;\n    node.type = 'text/javascript';\n    node.id = id;\n    if (document.getElementById(id)) {\n      console.log('script already present');\n    } else {\n      //document.getElementsByTagName('head')[0].appendChild(node);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-session-details',\n  templateUrl: './session-details.component.html',\n  styleUrls: ['./session-details.component.css']\n})\nexport class SessionDetailsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class GetSmallSessionsService {\n  constructor(private http: HttpClient) {}\n  getData(duration: number) {\n    return this.http.get(\n      'https://ysmartdata.whymob.dev/get/small-sessions/' + duration\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GetSmallSessionsService } from './get-small-sessions.service';\n\n@Component({\n  selector: 'app-small-sessions',\n  templateUrl: './small-sessions.component.html',\n  styleUrls: ['./small-sessions.component.css']\n})\nexport class SmallSessionsComponent implements OnInit {\n  limit = 10;\n  sessions: any;\n  constructor(private sess: GetSmallSessionsService) {\n    sess.getData(this.limit).subscribe((data: any) => {\n      this.sessions = data;\n    });\n  }\n\n  ngOnInit() {}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class SessionService {\n  constructor(private http: HttpClient) {}\n  getData(id: number) {\n    return this.http.get(\n      'https://ysmartdata.whymob.dev/get/actor-frames/' + id\n    );\n  }\n}\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { SessionService } from './session.service';\nimport * as THREE from 'three';\n\nimport CameraControls from 'camera-controls';\nCameraControls.install({ THREE: THREE });\n\n@Component({\n  selector: 'app-viewer',\n  templateUrl: './viewer.component.html',\n  styleUrls: ['./viewer.component.css']\n})\nexport class ViewerComponent implements OnInit {\n  public id;\n  public sessionDate;\n  public sessionDuration;\n  public totalFrames;\n  public dataLoaded = false;\n  public timestamp = '00:00:00';\n  public requestId;\n\n  private data = {\n    frameConfig: {\n      x: 640,\n      y: 480,\n      z: 5,\n      bedW: 100,\n      bedD: 200,\n      bedH: 20,\n      camY: -300,\n      camRX: -36,\n      minP: 0,\n      mode: '3d',\n      framePointsCount: 18,\n      maxMovement: 5\n    },\n    actores: [],\n    camaPoints: {\n      x: 0.10985056310892105,\n      y: -0.13395646214485168,\n      z: 3.380000114440918\n    },\n    dispensadores: [\n      { x: 0.2630771994590759, y: -0.019362561404705048, z: 3.4200000762939453 }\n    ],\n    floor: [\n      { x: -1.1797891855239868, y: 1.4506481885910034, z: 3.2119998931884766 },\n      { x: -1.1293202638626099, y: 0.6508018970489502, z: 4.093999862670898 },\n      { x: 1.1487586498260498, y: 0.4948367774486542, z: 4.421000003814697 },\n      { x: 1.1579986810684204, y: 1.4244699478149414, z: 3.247999906539917 },\n      { x: -1.1797891855239868, y: 1.4506481885910034, z: 3.2119998931884766 }\n    ]\n  };\n\n  constructor(\n    private _Activatedroute: ActivatedRoute,\n    private sess: SessionService\n  ) {\n    this.id = this._Activatedroute.snapshot.paramMap.get('id');\n    this.sessionDate = new Date(this.id * 1000).toLocaleString('pt-PT');\n    sess.getData(this.id).subscribe((data: any) => {\n      this.totalFrames = data.actores[0].length / 18;\n      this.sessionDuration = data.duration;\n      this.data.actores = data.actores;\n      //this.data.camaPoints = data.camaPoints;\n      this.buildViewer();\n      this.dataLoaded = true;\n    });\n  }\n  ngOnInit() {}\n\n  buildViewer() {\n    this.timestamp = '0';\n    let comp = this;\n    // Find the latest version by visiting https://unpkg.com/three.\n    let camera,\n      scene,\n      renderer,\n      actor,\n      sessao,\n      floor,\n      cameraControls,\n      clock,\n      stats,\n      gui;\n\n    let frameConfig, framePointsCount;\n    let currentPoints = [];\n    let play = true;\n    let paused = false;\n    let fps = 15;\n    let factor = 100;\n    let currentFrame = 0;\n    let maxFrames;\n    //Frames\n    var frame, camaPoints, dispensadores, detectedFloor;\n\n    frameConfig = this.data.frameConfig;\n    frame = this.data.actores[0];\n    framePointsCount = frameConfig.framePointsCount;\n    camaPoints = this.data.camaPoints;\n    dispensadores = this.data.dispensadores;\n    detectedFloor = this.data.floor;\n    maxFrames = this.data.actores[0].length / framePointsCount;\n    init();\n    animate();\n\n    function init() {\n      console.log('Positions using', frameConfig.mode);\n\n      // Set renderer\n      renderer = new THREE.WebGLRenderer({ antialias: true });\n      renderer.setSize(\n        document.getElementById('viewer').offsetWidth,\n        document.getElementById('viewer').offsetWidth / 2\n      );\n\n      document.getElementById('viewer').appendChild(renderer.domElement);\n\n      // Set scene\n      scene = new THREE.Scene();\n      scene.background = new THREE.Color(0xeeeeee);\n\n      // Set floor helper\n      floor = new THREE.GridHelper(frameConfig.x, 10);\n      scene.add(floor);\n\n      // Set Camera\n      camera = new THREE.PerspectiveCamera(70, 1.5, 1, 2000);\n      camera.up.set(0, 0.5, 0);\n      // Set Camera Controls\n      clock = new THREE.Clock();\n      cameraControls = new CameraControls(camera, renderer.domElement);\n      cameraControls.setLookAt(\n        0,\n        frameConfig.x / 4,\n        frameConfig.x / 2,\n        0,\n        0,\n        0,\n        true\n      );\n\n      sessao = new THREE.Group();\n      sessao.name = 'sessao';\n\n      //CAMA\n      const cama = new THREE.Group();\n      cama.name = 'cama';\n      let camaWidth = frameConfig.bedW,\n        camaHeight = frameConfig.bedH,\n        camaDepth = frameConfig.bedD;\n      const camaGeo = new THREE.BoxGeometry(camaWidth, camaHeight, camaDepth);\n      const camaMaterial = new THREE.MeshPhongMaterial({ color: 0x00ff00 });\n      const camaMesh = new THREE.Mesh(camaGeo, camaMaterial);\n      let camaPoint = fixAxis(camaPoints);\n      cama.position.set(camaPoint.x, camaPoint.y, camaPoint.z);\n      camaMesh.position.set(0, 0, camaDepth / 2);\n      cama.add(camaMesh);\n      sessao.add(cama);\n\n      //DISPENSADOR\n      const dispensadorMat = new THREE.MeshPhongMaterial({ color: 0xffff00 });\n\n      const dispensador1Geo = new THREE.BoxGeometry(25, 50, 25);\n      const dispensador2Geo = new THREE.BoxGeometry(25, 50, 25);\n\n      const dispensador1 = new THREE.Mesh(dispensador1Geo, dispensadorMat);\n      let fixedDispensadorPoint = fixAxis(dispensadores[0]);\n      dispensador1.position.set(\n        fixedDispensadorPoint.x,\n        fixedDispensadorPoint.y,\n        fixedDispensadorPoint.z\n      );\n\n      const dispensador2 = new THREE.Mesh(dispensador2Geo, dispensadorMat);\n      fixedDispensadorPoint = fixAxis([903.75, 186.5, 3.917]);\n      dispensador2.position.set(\n        fixedDispensadorPoint.x,\n        fixedDispensadorPoint.y,\n        fixedDispensadorPoint.z\n      );\n\n      sessao.add(dispensador1);\n      //scene.add( dispensador2 )\n\n      //ADD Detected floor\n      //create a blue LineBasicMaterial\n      var floorLineineMaterial = new THREE.LineBasicMaterial({\n        color: '#00ff00'\n      });\n      const floorPoints = [];\n      for (let i = 0; i < detectedFloor.length; i++) {\n        let fixedFloorPoint = fixAxis(detectedFloor[i]);\n        floorPoints.push(\n          new THREE.Vector3(\n            fixedFloorPoint.x,\n            fixedFloorPoint.y,\n            fixedFloorPoint.z\n          )\n        );\n      }\n\n      const floorGeometry = new THREE.BufferGeometry().setFromPoints(\n        floorPoints\n      );\n      const baseFloor = new THREE.Line(floorGeometry, floorLineineMaterial);\n      //sessao.add(baseFloor);\n\n      //Create actor group for animation\n      actor = new THREE.Group();\n      actor.name = 'actor';\n      sessao.add(actor);\n      scene.add(sessao);\n      newFrame2();\n\n      //lights\n      const dirLight1 = new THREE.DirectionalLight(0xffffff);\n      dirLight1.position.set(1, 1, 1);\n      scene.add(dirLight1);\n\n      const dirLight2 = new THREE.DirectionalLight(0x002288);\n      dirLight2.position.set(-1, -1, -1);\n      scene.add(dirLight2);\n\n      const ambientLight = new THREE.AmbientLight(0x222222);\n      scene.add(ambientLight);\n\n      //\n      window.removeEventListener('resize', onWindowResize);\n      window.addEventListener('resize', onWindowResize);\n      //stats = new Stats();\n      //stats.domElement.style.position = 'absolute';\n      //document.getElementById('viewer').appendChild(stats.dom);\n\n      //initGui();\n    }\n\n    function fixAxis(point) {\n      if (frameConfig.mode == 'pixel') {\n        //Frame axis is top left, world is center bottom\n        //offset x half the frame withd to the left\n        let tempX = scale(\n          point[0],\n          0,\n          frameConfig.x,\n          (frameConfig.x / 2) * -1,\n          frameConfig.x / 2\n        ); //point[0] - (frameConfig.x /2);\n        let tempY = scale(point[1], 0, frameConfig.y, frameConfig.y, 0); //frameConfig.y-point[1]-frameConfig.camY;\n        let tempZ = scale(\n          point[2],\n          0,\n          frameConfig.z,\n          frameConfig.x / 2,\n          (frameConfig.x / 2) * -1\n        );\n\n        return { x: tempX, y: tempY, z: tempZ, p: point[3] };\n        //return {x: point[0], y:point[1], z:point[2]*200, p:point[3]}\n      } else {\n        let tempX = point.x * factor;\n        let tempY = point.y * factor * -1;\n        let tempZ = point.z * factor * -1;\n\n        return { x: tempX, y: tempY, z: tempZ, p: point.p };\n      }\n    }\n\n    function onWindowResize() {\n      if (document.getElementById('viewer')) {\n        //camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n\n        renderer.setSize(\n          document.getElementById('viewer').offsetWidth,\n          document.getElementById('viewer').offsetWidth / 2\n        );\n      }\n    }\n\n    function animate() {\n      if (document.getElementById('viewer')) {\n        comp.requestId = requestAnimationFrame(animate);\n      } else {\n        cancelAnimationFrame(comp.requestId);\n        console.log('No animate for you!', comp.requestId);\n      }\n      //stats.update();\n\n      const delta = clock.getDelta();\n      const hasControlsUpdated = cameraControls.update(delta);\n\n      // you can skip this condition to render though\n      if (hasControlsUpdated) {\n        renderer.render(scene, camera);\n      }\n      sessao.rotation.x = frameConfig.camRX * (Math.PI / 180);\n      sessao.getObjectByName('cama').rotation.x =\n        frameConfig.camRX * -1 * (Math.PI / 180);\n\n      sessao.position.z = -frameConfig.camY / 2;\n      sessao.position.y = -frameConfig.camY;\n\n      render();\n    }\n\n    function render() {\n      //console.log(this.timestamp)\n      renderer.render(scene, camera);\n    }\n    function newFrame2() {\n      //var selectedObject = scene.getObjectByName('actor');\n      actor.clear();\n      sessao.remove(actor);\n      let startIndex =\n        (currentFrame % (frame.length / framePointsCount)) * framePointsCount;\n\n      //console.log('/////////////////')\n      //console.log('// FRAME',currentFrame%(frame.length/framePointsCount))\n\n      //rebuild actor\n      //create a blue LineBasicMaterial\n      const lineMaterial = new THREE.LineBasicMaterial({\n        vertexColors: (<any>THREE).VertexColors, // inform material that geometry will provide color info\n        linewidth: 40 // lineWidth not universally supported works with safari\n      });\n      const pointMaterial = new THREE.PointsMaterial({\n        size: 2,\n        vertexColors: (<any>THREE).VertexColors\n      });\n\n      let pointColors = [];\n      let points = [];\n\n      actor = new THREE.Group();\n      actor.name = 'actor';\n\n      for (let i = 0; i < 5; i++) {\n        let fixedPoint = fixAxis(frame[startIndex + i]);\n        pointColors.push(1 - 1 * frame[i][3], 1 * frame[i][3], 0);\n        points.push(fixedPoint.x, fixedPoint.y, fixedPoint.z);\n      }\n\n      const headGeometry = new THREE.BufferGeometry();\n      headGeometry.setAttribute(\n        'position',\n        new THREE.Float32BufferAttribute(points, 3)\n      );\n      headGeometry.setAttribute(\n        'color',\n        new THREE.Float32BufferAttribute(pointColors, 3)\n      );\n      let head = new THREE.Points(headGeometry, pointMaterial);\n\n      actor.add(head);\n\n      const bodyPointsIndex = [\n        [10, 8, 6, 12, 14, 16],\n        [11, 9, 7, 13, 15, 17],\n        [6, 7],\n        [12, 13]\n      ];\n      let linePoints = [];\n      let lineGeometries = [];\n      let lineColors = [];\n      let lines = [];\n      let currentPoint;\n      for (let i = 0; i < bodyPointsIndex.length; i++) {\n        linePoints[i] = [];\n        lineColors[i] = [];\n        lineGeometries[i] = new THREE.BufferGeometry().setFromPoints(\n          linePoints[i]\n        );\n        for (let j = 0; j < bodyPointsIndex[i].length; j++) {\n          //Skip point if it's above threshold\n          if (\n            frame[startIndex + (bodyPointsIndex[i][j] - 1)].p > frameConfig.minP\n          ) {\n            let fixedPoint = { x: 0, y: 0, z: 0, p: 0 };\n            let newPoint = { x: 0, y: 0, z: 0, p: 1 };\n            //if starting frame skip max velocity check\n            if (startIndex < framePointsCount) {\n              fixedPoint = fixAxis(\n                frame[startIndex + (bodyPointsIndex[i][j] - 1)]\n              );\n              currentPoints[bodyPointsIndex[i][j] - 1] = fixedPoint;\n            } else {\n              fixedPoint = fixAxis(\n                frame[startIndex + (bodyPointsIndex[i][j] - 1)]\n              );\n              currentPoint = currentPoints[bodyPointsIndex[i][j] - 1];\n              newPoint.x = motionLimiter(\n                fixedPoint.x,\n                currentPoint.x,\n                frameConfig.maxMovement\n              );\n              newPoint.y = motionLimiter(\n                fixedPoint.y,\n                currentPoint.y,\n                frameConfig.maxMovement\n              );\n              newPoint.z = motionLimiter(\n                fixedPoint.z,\n                currentPoint.z,\n                frameConfig.maxMovement\n              );\n              newPoint.p = fixedPoint.p;\n              fixedPoint = newPoint;\n              currentPoints[bodyPointsIndex[i][j] - 1] = fixedPoint;\n            }\n\n            linePoints[i].push(fixedPoint.x, fixedPoint.y, fixedPoint.z);\n            lineColors[i].push(1 - 1 * fixedPoint.p, 1 * fixedPoint.p, 0);\n          }\n        }\n        lineGeometries[i].setAttribute(\n          'position',\n          new THREE.Float32BufferAttribute(linePoints[i], 3)\n        );\n        lineGeometries[i].setAttribute(\n          'color',\n          new THREE.Float32BufferAttribute(lineColors[i], 3)\n        );\n        lines[i] = new THREE.Line(lineGeometries[i], lineMaterial);\n        lines[i].computeLineDistances();\n        actor.add(lines[i]);\n      }\n      sessao.add(actor);\n      //scene.add(sessao)\n      if (!paused) {\n        currentFrame++;\n      }\n      if (document.getElementById('viewer')) {\n        document.getElementById('timestamp').innerText = (\n          currentFrame %\n          (frame.length / framePointsCount)\n        ).toString();\n        setTimeout(newFrame2, 1000 / fps);\n      } else {\n        console.log('newframe stopped');\n      }\n      //console.log(actor)\n    }\n\n    function scale(number, inMin, inMax, outMin, outMax) {\n      return ((number - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\n    }\n    function motionLimiter(x, current, limit) {\n      //determine if x if in inside the left limit\n      if (x < current - limit) {\n        //console.log('from', current, 'to', x, 'limited to', current-limit)\n        return current - limit;\n      } else if (x >= current - limit && x <= current + limit) {\n        //console.log('from', current, 'to', x, 'no limit aplied', x)\n        return x;\n      } else if (x > current + limit) {\n        //console.log('from', current, 'to', x, 'limited to', current+limit)\n        return current + limit;\n      } else {\n        //console.log('limiter exception, keeping original value', current)\n        return current;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    console.log('stop', this.requestId);\n    cancelAnimationFrame(this.requestId);\n  }\n}\n","import './polyfills';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .then(ref => {\n    // Ensure Angular destroys itself on hot reloads.\n    if (window['ngRef']) {\n      window['ngRef'].destroy();\n    }\n    window['ngRef'] = ref;\n\n    // Otherwise, log the boot error\n  })\n  .catch(err => console.error(err));\n","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n// import 'core-js/es6/symbol';\n// import 'core-js/es6/object';\n// import 'core-js/es6/function';\n// import 'core-js/es6/parse-int';\n// import 'core-js/es6/parse-float';\n// import 'core-js/es6/number';\n// import 'core-js/es6/math';\n// import 'core-js/es6/string';\n// import 'core-js/es6/date';\n// import 'core-js/es6/array';\n// import 'core-js/es6/regexp';\n// import 'core-js/es6/map';\n// import 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\n// import 'core-js/es6/reflect';\n// import 'core-js/es7/reflect';\n\n\n/**\n * Web Animations `@angular/platform-browser/animations`\n * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.","export default \"h1 { font-family: Lato; }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbGxvLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLGlCQUFpQixFQUFFIiwiZmlsZSI6ImhlbGxvLmNvbXBvbmVudC50cyIsInNvdXJjZXNDb250ZW50IjpbImgxIHsgZm9udC1mYW1pbHk6IExhdG87IH0iXX0= */\";","export default \".isDisabled {\\r\\n  cursor: not-allowed;\\r\\n  opacity: 0.5;\\r\\n}\\r\\n.isDisabled > a {\\r\\n  color: currentColor;\\r\\n  display: inline-block; /* For IE11/ MS Edge bug */\\r\\n  pointer-events: none;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC1zZXNzaW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7QUFDZDtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLHFCQUFxQixFQUFFLDBCQUEwQjtFQUNqRCxvQkFBb0I7RUFDcEIscUJBQXFCO0FBQ3ZCIiwiZmlsZSI6ImFsbC1zZXNzaW9ucy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmlzRGlzYWJsZWQge1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbiAgb3BhY2l0eTogMC41O1xyXG59XHJcbi5pc0Rpc2FibGVkID4gYSB7XHJcbiAgY29sb3I6IGN1cnJlbnRDb2xvcjtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IC8qIEZvciBJRTExLyBNUyBFZGdlIGJ1ZyAqL1xyXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG4iXX0= */\";","export default \"p {\\n  font-family: Lato;\\n}\\nfooter {\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  background-color: rgba(255, 255, 255, 0.295);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsU0FBUztFQUNULE9BQU87RUFDUCxXQUFXO0VBQ1gsNENBQTRDO0FBQzlDIiwiZmlsZSI6ImFwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gIGZvbnQtZmFtaWx5OiBMYXRvO1xufVxuZm9vdGVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjk1KTtcbn1cbiJdfQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9jZXNzZWQtc2Vzc2lvbnMuY29tcG9uZW50LmNzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXNzaW9uLWRldGFpbHMuY29tcG9uZW50LmNzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzbWFsbC1zZXNzaW9ucy5jb21wb25lbnQuY3NzIn0= */\";","export default \"#viewer {\\r\\n  position: relative;\\r\\n}\\r\\n#timestamp {\\r\\n  position: absolute;\\r\\n  width: 100%;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  color: #666;\\r\\n  text-align: right;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXdlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLE1BQU07RUFDTixRQUFRO0VBQ1IsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixhQUFhO0FBQ2YiLCJmaWxlIjoidmlld2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdmlld2VyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuI3RpbWVzdGFtcCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHRvcDogMDtcclxuICByaWdodDogMDtcclxuICBjb2xvcjogIzY2NjtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbiJdfQ== */\";","export default \"<h4 class=\\\"text-center\\\">Todas Sessões gravadas</h4>\\n<table class=\\\"table table-striped\\\">\\n  <thead>\\n    <tr>\\n      <th scope=\\\"col\\\">Sessão ID</th>\\n      <th scope=\\\"col\\\">Início</th>\\n      <th scope=\\\"col\\\">Fim</th>\\n      <th scope=\\\"col\\\">link</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let session of sessions\\\">\\n      <th scope=\\\"row\\\">{{session.session}}</th>\\n      <td>{{session.startDate}}</td>\\n      <td>{{session.endDate}}</td>\\n      <td class=\\\"\\\">\\n        <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\";","export default \"<h1 class=\\\"text-center\\\">{{title}}</h1>\\n<hr />\\n<nav class=\\\"text-center\\\">\\n  <a routerLink=\\\"/\\\">Todas as sessões</a>\\n  &nbsp;\\n  <a routerLink=\\\"/small\\\">Sessões de curta duração</a>\\n  &nbsp;\\n  <a routerLink=\\\"/processed\\\">Sessões processadas</a>\\n</nav>\\n<hr />\\n<router-outlet></router-outlet>\\n<footer class=\\\"text-end p-2 text-muted\\\">powered by whymob</footer>\";","export default \"<h4 class=\\\"text-center\\\">Todas Sessões gravadas</h4>\\n<table class=\\\"table table-striped\\\">\\n  <thead>\\n    <tr>\\n      <th scope=\\\"col\\\">Sessão ID</th>\\n      <th scope=\\\"col\\\">Início</th>\\n      <th scope=\\\"col\\\">Fim</th>\\n      <th scope=\\\"col\\\">link</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let session of sessions\\\">\\n      <th scope=\\\"row\\\">{{session.session}}</th>\\n      <td>{{session.startDate}}</td>\\n      <td>{{session.endDate}}</td>\\n      <td>\\n        <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\";","export default \"<p>\\nsession-details works!\\n</p>\";","export default \"<h4 class=\\\"text-center\\\">Sessões gravadas com duração inferior a: {{limit}}s</h4>\\n<table class=\\\"table table-striped\\\">\\n  <thead>\\n    <tr>\\n      <th scope=\\\"col\\\">Sessão ID</th>\\n      <th scope=\\\"col\\\">Duração</th>\\n      <th scope=\\\"col\\\">Frames</th>\\n      <th scope=\\\"col\\\">link</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let session of sessions\\\">\\n      <th scope=\\\"row\\\">{{session.session}}</th>\\n      <td>{{session.duration}}</td>\\n      <td>{{session.frames}}</td>\\n      <td class=\\\"\\\">\\n        <a [routerLink]=\\\"['/view/', session.session]\\\">Visualizar</a>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\";","export default \"<p class=\\\"text-center fw-bold text-uppercase\\\">\\n  Sessão {{id}}\\n</p>\\n<div id=\\\"viewer\\\">\\n  <span id=\\\"timestamp\\\"></span>\\n  <img *ngIf=\\\"!dataLoaded\\\" id=\\\"loading\\\" class=\\\"m-auto d-block\\\" style='width:60px' src=\\\"https://whymob.dev/ysmart/loading.gif\\\">\\n</div>\\n<p class=\\\"text-center\\\" *ngIf=\\\"dataLoaded\\\">Sessão gravada em {{sessionDate}} com uma duração de {{sessionDuration}} e\\n  {{totalFrames}} frames. ({{requestId}})\\n</p>\";"]}